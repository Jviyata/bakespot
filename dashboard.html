import React, { useState } from 'react';
import 'styles.css';

const images = [
    ...Array(5).fill().map((_, i) => ({ src: `cake${i + 1}.jpg`, alt: 'Cake', category: 'Cake' })),
    ...Array(5).fill().map((_, i) => ({ src: `cookie${i + 1}.jpg`, alt: 'Cookie', category: 'Cookie' })),
    ...Array(5).fill().map((_, i) => ({ src: `pie${i + 1}.jpg`, alt: 'Pie', category: 'Pie' })),
    ...Array(5).fill().map((_, i) => ({ src: `treat${i + 1}.jpg`, alt: 'Treat', category: 'Treat' }))
];

// Shuffle images to ensure different types are not next to each other
const shuffleArray = (array) => {
    let shuffled = array.slice();
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
};

const PhotoGrid = () => {
    const [searchTerm, setSearchTerm] = useState('');
    const [filter, setFilter] = useState('');
    
    const filteredImages = shuffleArray(images.filter(image => 
        image.alt.toLowerCase().includes(searchTerm.toLowerCase()) &&
        (filter === '' || image.category === filter)
    ));

    return (
        <div className="container">
            {/* Navigation Bar */}
            <nav className="navbar">
                <img src="logo.png" alt="Logo" className="logo" />
                <input 
                    type="text" 
                    placeholder="Search..." 
                    value={searchTerm} 
                    onChange={(e) => setSearchTerm(e.target.value)}
                />
                <div className="filters">
                    <button onClick={() => setFilter('Cake')}>Cake</button>
                    <button onClick={() => setFilter('Cookie')}>Cookie</button>
                    <button onClick={() => setFilter('Pie')}>Pie</button>
                    <button onClick={() => setFilter('Treat')}>Treat</button>
                    <button onClick={() => setFilter('')}>All</button>
                </div>
            </nav>

            {/* Photo Grid */}
            <div className="photo-grid">
                {filteredImages.map((image, index) => (
                    <img key={index} src={image.src} alt={image.alt} className="photo-item" />
                ))}
            </div>
        </div>
    );
};

export default PhotoGrid;
